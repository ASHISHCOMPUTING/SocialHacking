<head>
  <title>Glitchat</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
</head>
 
<body class='container-fluid'>
  <header>
    <h4>Social Hacking</h4>
    <h1>Glitchat</h1>
  </header>

  <div class='row'>

    <div class='col-md-6 col-md-push-6' id='instructions'>
      <h2>Background</h2>
      <h2>Preparation</h2>
      <p>
        1. Add substitution rules for a chat conversation (ex: Replace "yes" with "no").<br>
        2. Click "save rules".<br><br>
      </p>
      <h2>Usage</h2>
      <p>
        1. Enter your name.<br>
        2. Enter a partner's name to begin a chat.
      </p>
      <div class='spacer'>&nbsp;</div>
    </div>

    <div class='col-md-6 col-md-pull-6' id='content'>
    {{> Template.dynamic template=page }}
    </div>
  </div>

</body>
 
<template name='chat_page'>
  <h2>The Chat</h2>
  <div>
    <button id='back_to_rules'>back to rules</button>
  </div>
  <div id='actions_box'>
    <div id='enterid'>
      <p>Your name: <b><span id='name'></span></b>
        <input type='text' id='pid'>
        <span class='glyphicon glyphicon-ok' id='start' aria-hidden='true'></span>
      </p>
    </div>

    <div id='connect_box'>
      <p>Chat with: <input type='text' id='rid'>
      <span class='glyphicon glyphicon-ok' id='connect' aria-hidden='true'></span>
      </p>
    </div>


    <div id='send_box'>
      <input type='text' id='message' placeholder='enter message'>
      <span class='glyphicon glyphicon-ok' id='send' aria-hidden='true'></span>
    </div>
  </div>

  <div id='wrap'>
    <div id='connections'>
    </div>
    <div class='clear'></div>
  </div>
</template>

<template name='rules_page'>
  <h2>The Rules</h2>
  <ul>
    <form id='rules'>
      {{#each rulez}}
        <li class='rule'>
          Replace&nbsp;&nbsp;<input type='text' name='{{identifier}}_a' value='{{a}}'/>&nbsp;&nbsp;with&nbsp;&nbsp;<input type='text' name='{{identifier}}_b' value='{{b}}'/>
          <span class='glyphicon glyphicon-remove remove' aria-hidden='true'></span>
        </li>
      {{/each}}
      <button id='add'>add rule</button>
      <input type='submit' value='save rules'>
    </form>
  </ul>
</template>
