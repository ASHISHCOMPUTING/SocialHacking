<html>
<head>
	<style>
	body {
		font-family: sans-serif;
		padding: 1em;
	}
	</style>

	<script src="http://codeorigin.jquery.com/jquery-2.0.3.min.js"></script>
	<link href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet">
	<script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
	<script src="http://cdnjs.cloudflare.com/ajax/libs/sugar/1.3.9/sugar.min.js"></script>

	<script src="db.js"></script>
</head>
<body>
	<script>
	statuses = db['statuses'];

	// remove retweets
	statuses = statuses.findAll(function(n) {
		return !n.retweeted_status;
	});

	// get unique users
	users = statuses.map(function(status) {
		return status.user.id;
	}).unique();

	document.write("<h1>" + statuses.length + " results</h1>");
	document.write("<table class='table table-bordered table-striped table-condensed'>");
	document.write("<thead><tr><th>Profile</th><th>Name</th><th>Screen name</th><th>Tweet</th></tr></thead>");
	document.write("<tbody>");
	statuses.each(function(status) {
		document.write("<tr>");
		document.write("<td><img src='" + status.user.profile_image_url + "'/></td>");
		document.write("<td>" + status.user.name + "</td>");
		document.write("<td>" + status.user.screen_name + "</td>");
		document.write("<td>" + status.text + "</td>");
		document.write("</tr>");
	});
	document.write("</tbody>");
	document.write("</table>");
	</script>
</body>
</html>